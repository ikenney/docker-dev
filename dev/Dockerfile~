FROM ruby 2.2

RUN apt-get update && apt-get install -y --no-install-recommends locales
RUN locale-gen en_GB.UTF-8 
ENV LANG en_GB.UTF-8
ENV LANGUAGE en_GB:en
ENV LC_ALL en_GB.UTF-8
ENV DEBIAN_FRONTEND noninteractive
EMV $HOME /root
RUN apt-get install -y --no-install-recommends \
  vim \
  tmux \
  git \
  zsh \
  curl \
  nodejs \
  mysql-client \
  postgresql-client \
  sqlite3

RUN git config --global user.name "lostsock" && git config --global user.email "git@lostsock.co.uk"

#RUN useradd -ms /bin/zsh dev
#RUN echo "dev ALL=(ALL) NOPASSWD:ALL" > /etc/sudoers.d/dev_user && chmod 0440 /etc/sudoers.d/dev_user
COPY dotfiles $HOME
RUN git clone --recursive https://github.com/ikenney/vim-bundles.git $HOME/.vim/bundle
CMD [ "/bin/zsh" ]
